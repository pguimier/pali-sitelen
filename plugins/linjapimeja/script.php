<?php //encoding: utf-8


/* for linja leko */
function transform($text)
{


	$nimi = array(
		"a"	=>	"97",
		"akesi"	=>	"57345",
		"ala"	=>	"57346",
		"alasa"	=>	"57347",
		"ale"	=>	"57348",
		"ali"	=>	"57349",
		"anpa"	=>	"57350",
		"ante"	=>	"57351",
		"anu"	=>	"57352",
		"awen"	=>	"57353",
		"e"	=>	"101",
		"en"	=>	"57354",
		"esun"	=>	"57355",
		"ijo"	=>	"57356",
		"ike"	=>	"57357",
		"ilo"	=>	"57358",
		"insa"	=>	"57359",
		"jaki"	=>	"57360",
		"jan"	=>	"57361",
		"jelo"	=>	"57362",
		"jo"	=>	"57363",
		"kala"	=>	"57364",
		"kalama"=>	"57365",
		"kama"	=>	"57366",
		"kasi"	=>	"57367",
		"ken"	=>	"57368",
		"kepeken"=>	"57369",
		"kili"	=>	"57370",
		"kiwen"	=>	"57371",
		"ko"	=>	"57372",
		"kon"	=>	"57373",
		"kule"	=>	"57374",
		"kulupu"=>	"57375",
		"kute"	=>	"57376",
		"la"	=>	"57377",
		"lape"	=>	"57378",
		"laso"	=>	"57379",
		"lawa"	=>	"57380",
		"len"	=>	"57381",
		"lete"	=>	"57382",
		"li"	=>	"57383",
		"lili"	=>	"57384",
		"linja"	=>	"57385",
		"lipu"	=>	"57386",
		"loje"	=>	"57387",
		"lon"	=>	"57388",
		"luka"	=>	"57389",
		"lukin"	=>	"57390",
		"oko"	=>	"57391",
		"lupa"	=>	"57392",
		"ma"	=>	"57393",
		"mama"	=>	"57394",
		"mani"	=>	"57395",
		"meli"	=>	"57396",
		"mi"	=>	"57397",
		"mije"	=>	"57398",
		"moku"	=>	"57399",
		"moli"	=>	"57400",
		"monsi"	=>	"57401",
		"mu"	=>	"57402",
		"mun"	=>	"57403",
		"musi"	=>	"57404",
		"mute"	=>	"57405",
		"nanpa"	=>	"57406",
		"nasa"	=>	"57407",
		"nasin"	=>	"57408",
		"nena"	=>	"57409",
		"ni"	=>	"57410",
		"nimi"	=>	"57411",
		"noka"	=>	"57412",
		"o"	=>	"111",
		"olin"	=>	"57413",
		"ona"	=>	"57414",
		"open"	=>	"57415",
		"pakala"=>	"57416",
		"pali"	=>	"57417",
		"palisa"=>	"57418",
		"pan"	=>	"57419",
		"pana"	=>	"57420",
		"pi"	=>	"57421",
		"pilin"	=>	"57422",
		"pimeja"=>	"57423",
		"pini"	=>	"57424",
		"pipi"	=>	"57425",
		"poka"	=>	"57426",
		"poki"	=>	"57427",
		"pona"	=>	"57428",
		"pu"	=>	"57429",
		"sama"	=>	"57430",
		"seli"	=>	"57431",
		"selo"	=>	"57432",
		"seme"	=>	"57433",
		"sewi"	=>	"57434",
		"sijelo"=>	"57435",
		"sike"	=>	"57436",
		"sin"	=>	"57437",
		"namako"=>	"57438",
		"sina"	=>	"57439",
		"sinpin"=>	"57440",
		"sitelen"=>	"57441",
		"sona"	=>	"57442",
		"soweli"=>	"57443",
		"suli"	=>	"57444",
		"suno"	=>	"57445",
		"supa"	=>	"57446",
		"suwi"	=>	"57447",
		"tan"	=>	"57448",
		"taso"	=>	"57449",
		"tawa"	=>	"57450",
		"telo"	=>	"57451",
		"tenpo"	=>	"57452",
		"toki"	=>	"57453",
		"tomo"	=>	"57454",
		"tu"	=>	"57455",
		"unpa"	=>	"57456",
		"uta"	=>	"57457",
		"utala"	=>	"57458",
		"walo"	=>	"57459",
		"wan"	=>	"57460",
		"waso"	=>	"57461",
		"wawa"	=>	"57462",
		"weka"	=>	"57463",
		"wile"	=>	"57464",
		"kin"	=>	"57465",
		"kipisi"=>	"57466",
		"leko"	=>	"57467",
		"monsuta"=>	"57468",
		"pake"	=>	"57469",
		"apeja"	=>	"57470",
		"kijetesantakalu"=>	"57471",
		"tuli"	=>	"57472",
		"to"	=>	"57473",
	);
	$cleantxt=str_replace(array("!",",",":",";",".","?","-","+","/","\n"), " ", $text);
	$arr_txt=explode(" ", $cleantxt);
	foreach($arr_txt as $v)
	{
	 $sep="\s,\.!\n\r";
	 if(!empty($nimi[$v]))
	 {
	  $text=preg_replace("|([".$sep."])".$v."$|", "$1".unichr($nimi[$v]), $text);
	  $text=preg_replace("|^".$v."([".$sep."])|", unichr($nimi[$v])."$1", $text);
	  $text=preg_replace("|([".$sep."])".$v."([".$sep."])|", "$1".unichr($nimi[$v])."$2", $text);
	 }
	}
	return $text;
}

?>